<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0">
<meta name="description" content="shader + paticle [ photo shushu test ]">
<meta name="keywords" content="">
<title>shader</title>
<style>
html,body{height: 100%;overflow: hidden;}
body{margin: 0; padding: 0; background: #000;cursor: none;}
#cval,#cval2,#cval3{position: fixed;left: 32px;top:32px;z-index:100;color:#FFF;font-size:10px;font-family: Arial;background:rgba(0,0,0,0.6);padding: 3px;}
#cval2{top: 48px;}
#cval3{top: 64px;}
</style>
</head>
<body>
<div id="container"></div>
<div id="cval">recreation</div>
<div id="cval2">-</div>
<script type="text/javascript" src="jquery-2.2.3.min.js"></script>
<script type="text/javascript" src="perlin-noise-simplex.js"></script>
<script type="text/javascript" src="three.min.js"></script>
<script type="text/javascript" src="TweenMax.min.js"></script>
<script type="text/javascript" src="OrbitControls.js"></script>
<script type="text/javascript" src="engine.js"></script>
<script type="x-shader/x-vertex" id="vertexshader">
	uniform vec2 resolution;
	uniform float time;
	attribute float adjust;
	attribute float size;
	varying float alpha;
	float rand(vec2 co){
		//	これを実数の少数部を求める組み込み関数 fract()
    	return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);
	}

	void main()
	{

		gl_PointSize = size;

		float rad = adjust + time;

		alpha = ( sin( rad ) + 1.0 - 3.1416 * 0.5 ) * 0.5;

		float _randomSeed = rad - mod( rad, 3.1416 );	//	3.1416の倍数を取得
		float _x = rand( vec2( _randomSeed, 0.0 ) );
		float _y = rand( vec2( _randomSeed, 10.0 ) );
		float _z = rand( vec2( _randomSeed, 20.0 ) );

		vec3 pos = position;
		pos.x = ( _x - 0.5 ) * resolution.x * 1.6;
		pos.y = ( _y - 0.5 ) * resolution.y * 1.6;
		pos.z = ( _z - 0.5 ) * resolution.x * 1.6;

		gl_Position = projectionMatrix * modelViewMatrix * vec4( pos, 1.0 );
	}
</script>
<script type="x-shader/x-fragment" id="fragmentshader">
	uniform sampler2D texture;
	varying float alpha;
	void main()
	{
		gl_FragColor = texture2D( texture, gl_PointCoord ) * vec4( 1.0, 1.0, 1.0, alpha );
	}
</script>


</body>
</html>
